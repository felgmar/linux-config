#!/usr/bin/env python3
import shutil
import subprocess

if __name__ == "__main__":
    paru_bin: str | None = shutil.which("paru")
    paru_args: list[str] = ["-Syuu", "--needed", "--sudoloop", "--aur"]

    if paru_bin is None:
        raise FileNotFoundError("paru binary not found!")

    cmd: list[str] = []

    cmd.append(paru_bin)
    cmd.extend(paru_args)

    try:
        subprocess.run(cmd,
                       stderr=subprocess.PIPE,
                       stdout=subprocess.PIPE,
                       check=True)
    except Exception as ex:
        raise RuntimeError("An error ocurred:", ex)
